# 43. Как передается значение переменной (по ссылке/значению)?

В Java передача значений переменных в методы или при присваивании зависит от типа переменной: **примитивные типы** передаются **по значению**, а **ссылочные типы** передаются **по значению ссылки**. Давайте разберем это подробнее.

---

### **1. Передача примитивных типов (по значению)**

Когда вы передаете примитивный тип (например, `int`, `double`, `boolean`) в метод или присваиваете его другой переменной, передается **копия значения**. Это означает, что изменения, сделанные в методе или новой переменной, **не влияют** на оригинальную переменную.

#### Пример:
```java
public class PrimitiveExample {
    public static void main(String[] args) {
        int x = 10;
        modifyPrimitive(x); // Передача копии значения x
        System.out.println("После метода: " + x); // x = 10 (не изменился)
    }

    static void modifyPrimitive(int value) {
        value = 20; // Изменяется копия, а не оригинал
        System.out.println("Внутри метода: " + value); // value = 20
    }
}
```

#### Вывод:
```
Внутри метода: 20
После метода: 10
```

---

### **2. Передача ссылочных типов (по значению ссылки)**

Когда вы передаете ссылочный тип (например, объект, массив) в метод или присваиваете его другой переменной, передается **копия ссылки** на объект. Это означает, что:
- Сама ссылка передается по значению (т.е. вы не можете изменить оригинальную ссылку).
- Однако, если вы изменяете состояние объекта через эту ссылку, изменения будут видны везде, где используется этот объект.

#### Пример:
```java
public class ReferenceExample {
    public static void main(String[] args) {
        int[] array = {1, 2, 3};
        modifyReference(array); // Передача копии ссылки на массив
        System.out.println("После метода: " + Arrays.toString(array)); // Массив изменился
    }

    static void modifyReference(int[] arr) {
        arr[0] = 100; // Изменение состояния объекта через ссылку
        System.out.println("Внутри метода: " + Arrays.toString(arr)); // [100, 2, 3]
    }
}
```

#### Вывод:
```
Внутри метода: [100, 2, 3]
После метода: [100, 2, 3]
```

---

### **3. Почему ссылочные типы передаются по значению ссылки?**

В Java все передается по значению, но для ссылочных типов значением является **ссылка на объект**. Это значит:
- Вы не можете изменить саму ссылку (например, сделать так, чтобы оригинальная ссылка указывала на другой объект).
- Но вы можете изменять состояние объекта, на который ссылается эта ссылка.

#### Пример:
```java
public class ReferenceChangeExample {
    public static void main(String[] args) {
        String str = "Hello";
        modifyReference(str); // Передача копии ссылки на строку
        System.out.println("После метода: " + str); // str = "Hello" (не изменился)
    }

    static void modifyReference(String s) {
        s = "World"; // Изменение копии ссылки, а не оригинальной ссылки
        System.out.println("Внутри метода: " + s); // s = "World"
    }
}
```

#### Вывод:
```
Внутри метода: World
После метода: Hello
```

---

### **4. Итог**

- **Примитивные типы** передаются **по значению**:
  - Передается копия значения.
  - Изменения в методе не влияют на оригинальную переменную.
- **Ссылочные типы** передаются **по значению ссылки**:
  - Передается копия ссылки на объект.
  - Изменения состояния объекта видны везде, где используется этот объект.
  - Сама ссылка (например, присваивание новой ссылки) не изменяет оригинальную ссылку.

---

### **Пример для закрепления**

```java
public class Main {
    public static void main(String[] args) {
        int x = 10;
        int[] arr = {1, 2, 3};
        String str = "Hello";

        modifyValues(x, arr, str);

        System.out.println("x: " + x); // 10 (не изменился)
        System.out.println("arr: " + Arrays.toString(arr)); // [100, 2, 3] (изменился)
        System.out.println("str: " + str); // Hello (не изменился)
    }

    static void modifyValues(int a, int[] b, String c) {
        a = 20; // Изменение копии примитива
        b[0] = 100; // Изменение состояния объекта через ссылку
        c = "World"; // Изменение копии ссылки
    }
}
```

#### Вывод:
```
x: 10
arr: [100, 2, 3]
str: Hello
```

---

Таким образом, в Java все передается по значению, но для ссылочных типов значением является ссылка на объект. Это важно понимать, чтобы избежать ошибок при работе с методами и присваиваниями.
