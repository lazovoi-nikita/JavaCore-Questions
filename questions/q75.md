# 75. Как использовать метод forEach в Stream API? - что принимает/возвращает?

Метод `forEach` в Stream API используется для выполнения действия над каждым элементом потока (stream). Он является терминальной операцией, то есть завершает поток и не позволяет продолжать цепочку вызовов.

### Сигнатура метода:
```java
void forEach(Consumer<? super T> action)
```

### Параметры:
- `action` — это функциональный интерфейс `Consumer`, который принимает один аргумент (элемент потока) и не возвращает результат (`void`). Вы можете передать лямбда-выражение или ссылку на метод, чтобы определить действие, которое будет выполнено для каждого элемента.

### Возвращаемое значение:
- Метод `forEach` не возвращает никакого значения (`void`).

### Пример использования:
```java
import java.util.List;

public class Main {
    public static void main(String[] args) {
        List<String> names = List.of("Alice", "Bob", "Charlie");

        // Используем forEach для вывода каждого элемента
        names.stream().forEach(name -> System.out.println(name));

        // Или с использованием ссылки на метод
        names.stream().forEach(System.out::println);
    }
}
```

### Важные моменты:
1. **Порядок выполнения**: Если поток является последовательным (`sequential`), элементы обрабатываются в порядке их появления. Если поток параллельный (`parallel`), порядок выполнения не гарантируется.
2. **Побочные эффекты**: `forEach` часто используется для выполнения действий с побочными эффектами, например, для изменения состояния внешних переменных или вывода данных.
3. **Невозможность продолжения потока**: Поскольку `forEach` является терминальной операцией, после её вызова поток считается завершённым, и дальнейшие операции с ним невозможны.

### Альтернатива:
Если вам нужно выполнить действие над каждым элементом, но при этом вернуть результат (например, модифицированную коллекцию), лучше использовать метод `map` или `collect`.

Пример с `collect`:
```java
List<String> upperCaseNames = names.stream()
    .map(String::toUpperCase)
    .collect(Collectors.toList());
```

Таким образом, `forEach` подходит для простых операций, где не требуется возвращать результат или продолжать обработку потока.
