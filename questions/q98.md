# 98. Что вы знаете об (checked/unchecked) исключениях?

В Java исключения делятся на два основных типа: **проверяемые (checked)** и **непроверяемые (unchecked)**. Это разделение основано на том, как компилятор Java обрабатывает эти исключения. Давайте разберём их подробнее.

---

### 1. **Проверяемые исключения (Checked Exceptions)**
Проверяемые исключения — это исключения, которые **должны быть обработаны** в коде. Они являются подклассами класса `Exception`, но не `RuntimeException`.

#### Особенности:
- **Обязательная обработка**: Если метод может выбросить проверяемое исключение, он должен либо обработать его с помощью `try-catch`, либо объявить в своей сигнатуре с помощью `throws`.
- **Возникают в ожидаемых ситуациях**: Проверяемые исключения обычно указывают на проблемы, которые можно предвидеть и обработать (например, отсутствие файла, проблемы с сетью и т.д.).

#### Примеры проверяемых исключений:
- `IOException` — ошибки ввода-вывода.
- `SQLException` — ошибки при работе с базами данных.
- `ClassNotFoundException` — класс не найден.

#### Пример:
```java
public void readFile(String path) throws IOException {
    BufferedReader br = new BufferedReader(new FileReader(path));
    String line;
    while ((line = br.readLine()) != null) {
        System.out.println(line);
    }
}
```

---

### 2. **Непроверяемые исключения (Unchecked Exceptions)**
Непроверяемые исключения — это исключения, которые **не обязательны для обработки**. Они являются подклассами класса `RuntimeException`.

#### Особенности:
- **Не обязательны для обработки**: Компилятор не требует, чтобы эти исключения были обработаны или объявлены.
- **Возникают из-за ошибок в коде**: Непроверяемые исключения обычно указывают на логические ошибки в программе (например, деление на ноль, обращение к `null` и т.д.).

#### Примеры непроверяемых исключений:
- `NullPointerException` — попытка обращения к `null`.
- `ArrayIndexOutOfBoundsException` — выход за границы массива.
- `ArithmeticException` — арифметическая ошибка (например, деление на ноль).

#### Пример:
```java
public void divide(int a, int b) {
    if (b == 0) {
        throw new ArithmeticException("Деление на ноль");
    }
    System.out.println(a / b);
}
```

---

### 3. **Ошибки (Errors)**
Ошибки — это отдельная категория, которая не относится ни к проверяемым, ни к непроверяемым исключениям. Они являются подклассами класса `Error`.

#### Особенности:
- **Критические проблемы**: Ошибки указывают на серьёзные проблемы, которые обычно возникают на уровне JVM и не могут быть обработаны в коде.
- **Не обязательны для обработки**: Как и непроверяемые исключения, ошибки не требуют обработки.

#### Примеры ошибок:
- `OutOfMemoryError` — недостаточно памяти.
- `StackOverflowError` — переполнение стека.
- `NoClassDefFoundError` — класс не найден на этапе выполнения.

#### Пример:
```java
public void causeOutOfMemory() {
    throw new OutOfMemoryError("Недостаточно памяти");
}
```

---

### 4. **Сравнение проверяемых и непроверяемых исключений**

| Характеристика          | Проверяемые исключения (Checked)       | Непроверяемые исключения (Unchecked)   |
|-------------------------|---------------------------------------|---------------------------------------|
| **Наследование**        | Подклассы `Exception` (но не `RuntimeException`) | Подклассы `RuntimeException`          |
| **Обработка**           | Обязательна (либо `try-catch`, либо `throws`) | Не обязательна                        |
| **Примеры**             | `IOException`, `SQLException`         | `NullPointerException`, `ArithmeticException` |
| **Типичные ситуации**   | Ожидаемые ошибки (например, отсутствие файла) | Логические ошибки в коде              |

---

### 5. **Когда использовать проверяемые и непроверяемые исключения?**
- **Проверяемые исключения**:
  - Используются для ситуаций, которые можно предвидеть и обработать (например, ошибки ввода-вывода).
  - Обязательны для обработки.

- **Непроверяемые исключения**:
  - Используются для ошибок, которые обычно возникают из-за логических ошибок в коде (например, `NullPointerException`).
  - Не обязательны для обработки.

---

### 6. **Примеры использования**

#### Проверяемое исключение:
```java
public void readFile(String path) throws IOException {
    BufferedReader br = new BufferedReader(new FileReader(path));
    String line;
    while ((line = br.readLine()) != null) {
        System.out.println(line);
    }
}
```

#### Непроверяемое исключение:
```java
public void divide(int a, int b) {
    if (b == 0) {
        throw new ArithmeticException("Деление на ноль");
    }
    System.out.println(a / b);
}
```

---

### Итог:
- **Проверяемые исключения** должны быть обработаны или объявлены в сигнатуре метода. Они используются для ожидаемых ошибок.
- **Непроверяемые исключения** не обязательны для обработки. Они возникают из-за логических ошибок в коде.
- **Ошибки** указывают на критические проблемы и обычно не обрабатываются.

Понимание различий между этими типами исключений помогает писать более надёжный и понятный код.
